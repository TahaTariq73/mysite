{% extends 'base.html' %}

{% block title %} Blog {% endblock title %}

{% block body %}
<main class="text-gray-600 body-font px-2 lg:px-12 py-12">
    <div class="container px-0 lg:px-5 py-24 mx-auto">
        <div class="-my-8 divide-y-2 divide-gray-100">
            {% for i in posts %}
            <div class="py-8 flex flex-wrap md:flex-nowrap px-4 md:px-6 w-auto lg:w-[60rem]">
                <div class="md:w-80 md:mb-0 mb-6 flex flex-col ml-0 md:ml-4">
                    <img src="/media/{{i.post_img}}/" alt="" class="w-80">
                </div>
                <div class="md:flex-grow overflow-hidden ml-0 md:ml-16">
                    <h2 class="text-2xl text-green-600 font-semibold mb-1 w-[50rem] posts-title"> {{i.post_title}} </h2>
                    <p class="text-xs"> {{i.post_date}} </p>
                    <p class="leading-relaxed mt-6 text-sm auto max-w-[35rem] posts-content" style="word-wrap: break-word; font-family: 'Baloo 2', cursive;
                    "> {{i.post_content|truncatechars:300}} ... ... ... </p>
                    <a href="/blog/post/{{i.post_id}}/" 
                    class="text-gray-900 text-sm inline-flex items-center mt-6 hover:underline"> Read more </a>
                </div>
            </div>
            <br> 
            {% endfor %}
        </div>
    </div>
</main>
{% endblock body %}

{% block js %}
<script>
const postsTitle = document.getElementsByClassName("posts-title");
Array.from(postsTitle).forEach(element => {
    let titleHTML = element.innerText;
    element.innerHTML = titleHTML;
}) 

const postsContent = document.getElementsByClassName("posts-content");
Array.from(postsContent).forEach(element => {
    let contentHTML = element.innerText;
    element.innerHTML = contentHTML;
})
</script>
{% endblock js %}